{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/quizbm/quizbm-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuizForm=_ref=>{let{onSubmit,initialData=null,isEditing=false}=_ref;const[quiz,setQuiz]=useState({title:'',description:'',max_attempts:3,time_per_question:30,pin:''});const[errors,setErrors]=useState({});useEffect(()=>{if(initialData){setQuiz({title:initialData.title||'',description:initialData.description||'',max_attempts:initialData.max_attempts||3,time_per_question:initialData.time_per_question||30,pin:initialData.pin||''});}},[initialData]);const handleChange=e=>{const{name,value}=e.target;setQuiz(prevQuiz=>_objectSpread(_objectSpread({},prevQuiz),{},{[name]:value}));};const validateForm=()=>{const newErrors={};if(!quiz.title.trim())newErrors.title='Title is required.';if(quiz.pin&&(quiz.pin.length<4||quiz.pin.length>10)){newErrors.pin='PIN must be between 4 and 10 characters.';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(validateForm()){await onSubmit(quiz);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4 max-w-lg mx-auto bg-white p-8 shadow rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",id:\"title\",value:quiz.title,onChange:handleChange,className:\"mt-1 block w-full px-3 py-2 border \".concat(errors.title?'border-red-500':'border-gray-300',\" rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\")}),errors.title&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-1\",children:errors.title})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",id:\"description\",value:quiz.description,onChange:handleChange,rows:\"3\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"max_attempts\",className:\"block text-sm font-medium text-gray-700\",children:\"Max Attempts\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"max_attempts\",id:\"max_attempts\",value:quiz.max_attempts,onChange:handleChange,min:\"1\",max:\"10\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"time_per_question\",className:\"block text-sm font-medium text-gray-700\",children:\"Time per Question (seconds)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"time_per_question\",id:\"time_per_question\",value:quiz.time_per_question,onChange:handleChange,min:\"5\",max:\"300\",className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pin\",className:\"block text-sm font-medium text-gray-700\",children:\"PIN (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"pin\",id:\"pin\",value:quiz.pin,onChange:handleChange,className:\"mt-1 block w-full px-3 py-2 border \".concat(errors.pin?'border-red-500':'border-gray-300',\" rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"),placeholder:\"4-10 characters\"}),errors.pin&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs mt-1\",children:errors.pin})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",children:isEditing?'Update Quiz':'Create Quiz'})})]});};export default QuizForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","QuizForm","_ref","onSubmit","initialData","isEditing","quiz","setQuiz","title","description","max_attempts","time_per_question","pin","errors","setErrors","handleChange","e","name","value","target","prevQuiz","_objectSpread","validateForm","newErrors","trim","length","Object","keys","handleSubmit","preventDefault","className","children","htmlFor","type","id","onChange","concat","rows","min","max","placeholder"],"sources":["C:/xampp/htdocs/quizbm/quizbm-frontend/src/components/quiz/QuizForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst QuizForm = ({ onSubmit, initialData = null, isEditing = false }) => {\r\n    const [quiz, setQuiz] = useState({\r\n        title: '',\r\n        description: '',\r\n        max_attempts: 3,\r\n        time_per_question: 30,\r\n        pin: ''\r\n    });\r\n    const [errors, setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (initialData) {\r\n            setQuiz({\r\n                title: initialData.title || '',\r\n                description: initialData.description || '',\r\n                max_attempts: initialData.max_attempts || 3,\r\n                time_per_question: initialData.time_per_question || 30,\r\n                pin: initialData.pin || ''\r\n            });\r\n        }\r\n    }, [initialData]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setQuiz(prevQuiz => ({ ...prevQuiz, [name]: value }));\r\n    };\r\n\r\n    const validateForm = () => {\r\n        const newErrors = {};\r\n        if (!quiz.title.trim()) newErrors.title = 'Title is required.';\r\n        if (quiz.pin && (quiz.pin.length < 4 || quiz.pin.length > 10)) {\r\n            newErrors.pin = 'PIN must be between 4 and 10 characters.';\r\n        }\r\n        setErrors(newErrors);\r\n        return Object.keys(newErrors).length === 0;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (validateForm()) {\r\n            await onSubmit(quiz);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-4 max-w-lg mx-auto bg-white p-8 shadow rounded-lg\">\r\n            <div>\r\n                <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700\">Title</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    id=\"title\"\r\n                    value={quiz.title}\r\n                    onChange={handleChange}\r\n                    className={`mt-1 block w-full px-3 py-2 border ${errors.title ? 'border-red-500' : 'border-gray-300'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}\r\n                />\r\n                {errors.title && <p className=\"text-red-500 text-xs mt-1\">{errors.title}</p>}\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n                <textarea\r\n                    name=\"description\"\r\n                    id=\"description\"\r\n                    value={quiz.description}\r\n                    onChange={handleChange}\r\n                    rows=\"3\"\r\n                    className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                ></textarea>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label htmlFor=\"max_attempts\" className=\"block text-sm font-medium text-gray-700\">Max Attempts</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"max_attempts\"\r\n                        id=\"max_attempts\"\r\n                        value={quiz.max_attempts}\r\n                        onChange={handleChange}\r\n                        min=\"1\"\r\n                        max=\"10\"\r\n                        className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"time_per_question\" className=\"block text-sm font-medium text-gray-700\">Time per Question (seconds)</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"time_per_question\"\r\n                        id=\"time_per_question\"\r\n                        value={quiz.time_per_question}\r\n                        onChange={handleChange}\r\n                        min=\"5\"\r\n                        max=\"300\"\r\n                        className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label htmlFor=\"pin\" className=\"block text-sm font-medium text-gray-700\">PIN (optional)</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"pin\"\r\n                    id=\"pin\"\r\n                    value={quiz.pin}\r\n                    onChange={handleChange}\r\n                    className={`mt-1 block w-full px-3 py-2 border ${errors.pin ? 'border-red-500' : 'border-gray-300'} rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500`}\r\n                    placeholder=\"4-10 characters\"\r\n                />\r\n                {errors.pin && <p className=\"text-red-500 text-xs mt-1\">{errors.pin}</p>}\r\n            </div>\r\n\r\n            <div className=\"flex justify-end\">\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\r\n                >\r\n                    {isEditing ? 'Update Quiz' : 'Create Quiz'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default QuizForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}