{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\quizbmTest2\\\\quizbm-frontend\\\\src\\\\components\\\\quiz\\\\Leaderboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport quizService from '../../services/quiz';\nimport echo from '../../services/websocket';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Leaderboard = ({\n  quiz\n}) => {\n  _s();\n  const [scores, setScores] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchLeaderboard = async () => {\n      try {\n        const response = await quizService.getLeaderboard(quiz.slug);\n        setScores(response.data);\n      } catch (error) {\n        console.error('Failed to fetch leaderboard', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLeaderboard();\n    const channel = echo.channel(`quiz.${quiz.id}`);\n    channel.listen('.score.updated', event => {\n      setScores(currentScores => {\n        const newScores = [...currentScores, event];\n        return newScores.sort((a, b) => b.score - a.score || a.time_taken - b.time_taken).slice(0, 10);\n      });\n    });\n    return () => {\n      channel.stopListening('.score.updated');\n      echo.leaveChannel(`quiz.${quiz.id}`);\n    };\n  }, [quiz]);\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-lg\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-center mb-4\",\n      children: \"Leaderboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n      className: \"space-y-2\",\n      children: scores.map((score, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"flex justify-between items-center p-2 rounded-lg bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold\",\n          children: [index + 1, \". \", score.participant_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-bold text-blue-600\",\n          children: [score.score, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), scores.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-gray-500 mt-4\",\n      children: \"No scores yet!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 37\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(Leaderboard, \"kxNppifYTTs1pTrp+nIPNv0qxds=\");\n_c = Leaderboard;\nexport default Leaderboard;\nvar _c;\n$RefreshReg$(_c, \"Leaderboard\");","map":{"version":3,"names":["React","useState","useEffect","quizService","echo","LoadingSpinner","jsxDEV","_jsxDEV","Leaderboard","quiz","_s","scores","setScores","loading","setLoading","fetchLeaderboard","response","getLeaderboard","slug","data","error","console","channel","id","listen","event","currentScores","newScores","sort","a","b","score","time_taken","slice","stopListening","leaveChannel","fileName","_jsxFileName","lineNumber","columnNumber","className","children","map","index","participant_name","length","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/quizbmTest2/quizbm-frontend/src/components/quiz/Leaderboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport quizService from '../../services/quiz';\r\nimport echo from '../../services/websocket';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\n\r\nconst Leaderboard = ({ quiz }) => {\r\n    const [scores, setScores] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchLeaderboard = async () => {\r\n            try {\r\n                const response = await quizService.getLeaderboard(quiz.slug);\r\n                setScores(response.data);\r\n            } catch (error) {\r\n                console.error('Failed to fetch leaderboard', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchLeaderboard();\r\n\r\n        const channel = echo.channel(`quiz.${quiz.id}`);\r\n\r\n        channel.listen('.score.updated', (event) => {\r\n            setScores(currentScores => {\r\n                const newScores = [...currentScores, event];\r\n                return newScores\r\n                    .sort((a, b) => b.score - a.score || a.time_taken - b.time_taken)\r\n                    .slice(0, 10);\r\n            });\r\n        });\r\n\r\n        return () => {\r\n            channel.stopListening('.score.updated');\r\n            echo.leaveChannel(`quiz.${quiz.id}`);\r\n        };\r\n\r\n    }, [quiz]);\r\n\r\n    if (loading) return <LoadingSpinner />;\r\n\r\n    return (\r\n        <div className=\"bg-white p-6 rounded-lg shadow-lg\">\r\n            <h2 className=\"text-2xl font-bold text-center mb-4\">Leaderboard</h2>\r\n            <ol className=\"space-y-2\">\r\n                {scores.map((score, index) => (\r\n                    <li key={index} className=\"flex justify-between items-center p-2 rounded-lg bg-gray-50\">\r\n                        <span className=\"font-semibold\">{index + 1}. {score.participant_name}</span>\r\n                        <span className=\"font-bold text-blue-600\">{score.score}%</span>\r\n                    </li>\r\n                ))}\r\n            </ol>\r\n            {scores.length === 0 && <p className=\"text-center text-gray-500 mt-4\">No scores yet!</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Leaderboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}