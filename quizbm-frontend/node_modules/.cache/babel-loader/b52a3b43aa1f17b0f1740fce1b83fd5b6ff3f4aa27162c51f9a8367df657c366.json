{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import api from'../../services/api';import QuizList from'../quiz/QuizList';import StatsCard from'./StatsCard';import LoadingSpinner from'../common/LoadingSpinner';import{useAuth}from'../../context/AuthContext';import{AcademicCapIcon,UserGroupIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{user}=useAuth();const[quizzes,setQuizzes]=useState([]);const[stats,setStats]=useState({totalQuizzes:0,totalAttempts:0});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchDashboardData=async()=>{try{setLoading(true);const response=await api.get('/quizzes');setQuizzes(response.data);setStats({totalQuizzes:response.data.length,totalAttempts:response.data.reduce((acc,quiz)=>acc+quiz.quiz_attempts_count,0)});setError(null);}catch(err){setError('Failed to fetch dashboard data.');console.error(err);}finally{setLoading(false);}};fetchDashboardData();},[]);if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:error});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 py-10 px-2 animate-fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center mb-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-full shadow-lg p-4 mb-4 animate-bounce-slow\",children:(user===null||user===void 0?void 0:user.role)==='creator'?/*#__PURE__*/_jsx(AcademicCapIcon,{className:\"h-12 w-12 text-indigo-600\"}):/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-12 w-12 text-pink-500\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-white drop-shadow mb-2 tracking-tight\",children:(user===null||user===void 0?void 0:user.role)==='creator'?'Welcome, Quiz Creator!':'Welcome, Quiz Participant!'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-white/80 mb-2 text-center max-w-xl\",children:(user===null||user===void 0?void 0:user.role)==='creator'?'Create, manage, and analyze your quizzes with ease. Inspire learning and fun!':'Take quizzes, track your progress, and challenge yourself or friends!'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/90 rounded-2xl shadow-2xl p-8 mb-8 backdrop-blur-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\",children:[/*#__PURE__*/_jsx(StatsCard,{title:\"Total Quizzes\",value:stats.totalQuizzes}),/*#__PURE__*/_jsx(StatsCard,{title:\"Total Attempts\",value:stats.totalAttempts})]}),(user===null||user===void 0?void 0:user.role)==='creator'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-indigo-700\",children:\"My Quizzes\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-quiz\",className:\"bg-gradient-to-r from-indigo-500 to-pink-500 hover:from-indigo-600 hover:to-pink-600 text-white font-bold py-2 px-6 rounded shadow-md transition-all duration-200 transform hover:scale-105\",children:\"+ Create New Quiz\"})]}),(user===null||user===void 0?void 0:user.role)!=='creator'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-4\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-pink-600\",children:\"Available Quizzes\"})}),/*#__PURE__*/_jsx(QuizList,{quizzes:quizzes,isCreator:(user===null||user===void 0?void 0:user.role)==='creator'})]})]})});};export default Dashboard;// Tailwind custom animation (add to your global CSS if not present):\n// .animate-fade-in { animation: fadeIn 1s ease-in; }\n// .animate-bounce-slow { animation: bounce 2s infinite; }\n// @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n// @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }","map":{"version":3,"names":["React","useState","useEffect","Link","api","QuizList","StatsCard","LoadingSpinner","useAuth","AcademicCapIcon","UserGroupIcon","jsx","_jsx","jsxs","_jsxs","Dashboard","user","quizzes","setQuizzes","stats","setStats","totalQuizzes","totalAttempts","loading","setLoading","error","setError","fetchDashboardData","response","get","data","length","reduce","acc","quiz","quiz_attempts_count","err","console","className","children","role","title","value","to","isCreator"],"sources":["C:/xampp/htdocs/quizbm/quizbm-frontend/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../services/api';\r\nimport QuizList from '../quiz/QuizList';\r\nimport StatsCard from './StatsCard';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { AcademicCapIcon, UserGroupIcon } from '@heroicons/react/24/outline';\r\n\r\nconst Dashboard = () => {\r\n    const { user } = useAuth();\r\n    const [quizzes, setQuizzes] = useState([]);\r\n    const [stats, setStats] = useState({ totalQuizzes: 0, totalAttempts: 0 });\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchDashboardData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const response = await api.get('/quizzes');\r\n                setQuizzes(response.data);\r\n                setStats({\r\n                    totalQuizzes: response.data.length,\r\n                    totalAttempts: response.data.reduce((acc, quiz) => acc + quiz.quiz_attempts_count, 0),\r\n                });\r\n                setError(null);\r\n            } catch (err) {\r\n                setError('Failed to fetch dashboard data.');\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchDashboardData();\r\n    }, []);\r\n\r\n    if (loading) return <LoadingSpinner />;\r\n    if (error) return <div className=\"text-red-500\">{error}</div>;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 py-10 px-2 animate-fade-in\">\r\n            <div className=\"max-w-4xl mx-auto\">\r\n                {/* Hero Section */}\r\n                <div className=\"flex flex-col items-center justify-center mb-10\">\r\n                    <div className=\"bg-white rounded-full shadow-lg p-4 mb-4 animate-bounce-slow\">\r\n                        {user?.role === 'creator' ? (\r\n                            <AcademicCapIcon className=\"h-12 w-12 text-indigo-600\" />\r\n                        ) : (\r\n                            <UserGroupIcon className=\"h-12 w-12 text-pink-500\" />\r\n                        )}\r\n                    </div>\r\n                    <h1 className=\"text-4xl font-extrabold text-white drop-shadow mb-2 tracking-tight\">\r\n                        {user?.role === 'creator' ? 'Welcome, Quiz Creator!' : 'Welcome, Quiz Participant!'}\r\n                    </h1>\r\n                    <p className=\"text-lg text-white/80 mb-2 text-center max-w-xl\">\r\n                        {user?.role === 'creator'\r\n                            ? 'Create, manage, and analyze your quizzes with ease. Inspire learning and fun!'\r\n                            : 'Take quizzes, track your progress, and challenge yourself or friends!'}\r\n                    </p>\r\n                </div>\r\n                <div className=\"bg-white/90 rounded-2xl shadow-2xl p-8 mb-8 backdrop-blur-md\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\r\n                        <StatsCard title=\"Total Quizzes\" value={stats.totalQuizzes} />\r\n                        <StatsCard title=\"Total Attempts\" value={stats.totalAttempts} />\r\n                    </div>\r\n                    {user?.role === 'creator' && (\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h2 className=\"text-xl font-semibold text-indigo-700\">My Quizzes</h2>\r\n                            <Link to=\"/create-quiz\" className=\"bg-gradient-to-r from-indigo-500 to-pink-500 hover:from-indigo-600 hover:to-pink-600 text-white font-bold py-2 px-6 rounded shadow-md transition-all duration-200 transform hover:scale-105\">\r\n                                + Create New Quiz\r\n                            </Link>\r\n                        </div>\r\n                    )}\r\n                    {user?.role !== 'creator' && (\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h2 className=\"text-xl font-semibold text-pink-600\">Available Quizzes</h2>\r\n                        </div>\r\n                    )}\r\n                    <QuizList quizzes={quizzes} isCreator={user?.role === 'creator'} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n\r\n// Tailwind custom animation (add to your global CSS if not present):\r\n// .animate-fade-in { animation: fadeIn 1s ease-in; }\r\n// .animate-bounce-slow { animation: bounce 2s infinite; }\r\n// @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n// @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}