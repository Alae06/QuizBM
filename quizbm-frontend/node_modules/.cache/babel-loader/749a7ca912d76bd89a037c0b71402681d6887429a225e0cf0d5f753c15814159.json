{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import QuizForm from'../components/quiz/QuizForm';import quizService from'../services/quiz';import LoadingSpinner from'../components/common/LoadingSpinner';import QuestionManager from'../components/quiz/QuestionManager';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditQuizPage=()=>{const{id}=useParams();const navigate=useNavigate();const[quiz,setQuiz]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchQuiz=async()=>{try{setLoading(true);const response=await quizService.getQuiz(id);setQuiz(response.data);setError(null);}catch(err){setError('Failed to fetch quiz data.');console.error(err);}finally{setLoading(false);}};fetchQuiz();},[id]);const handleUpdateQuiz=async quizData=>{try{await quizService.updateQuiz(id,{data:quizData});alert('Quiz updated successfully!');navigate('/dashboard');}catch(error){console.error('Failed to update quiz:',error);alert('Failed to update quiz. Please check the console for details.');}};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-center p-8\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 text-center\",children:\"Edit Quiz\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Quiz Details\"}),/*#__PURE__*/_jsx(QuizForm,{onSubmit:handleUpdateQuiz,initialData:quiz,isEditing:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Questions\"}),/*#__PURE__*/_jsx(QuestionManager,{quiz:quiz})]})]})]});};export default EditQuizPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","QuizForm","quizService","LoadingSpinner","QuestionManager","jsx","_jsx","jsxs","_jsxs","EditQuizPage","id","navigate","quiz","setQuiz","loading","setLoading","error","setError","fetchQuiz","response","getQuiz","data","err","console","handleUpdateQuiz","quizData","updateQuiz","alert","className","children","onSubmit","initialData","isEditing"],"sources":["C:/xampp/htdocs/quizbm/quizbm-frontend/src/pages/EditQuizPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport QuizForm from '../components/quiz/QuizForm';\r\nimport quizService from '../services/quiz';\r\nimport LoadingSpinner from '../components/common/LoadingSpinner';\r\nimport QuestionManager from '../components/quiz/QuestionManager';\r\n\r\nconst EditQuizPage = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [quiz, setQuiz] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchQuiz = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const response = await quizService.getQuiz(id);\r\n                setQuiz(response.data);\r\n                setError(null);\r\n            } catch (err) {\r\n                setError('Failed to fetch quiz data.');\r\n                console.error(err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchQuiz();\r\n    }, [id]);\r\n\r\n    const handleUpdateQuiz = async (quizData) => {\r\n        try {\r\n            await quizService.updateQuiz(id, {data: quizData});\r\n            alert('Quiz updated successfully!');\r\n            navigate('/dashboard');\r\n        } catch (error) {\r\n            console.error('Failed to update quiz:', error);\r\n            alert('Failed to update quiz. Please check the console for details.');\r\n        }\r\n    };\r\n\r\n    if (loading) return <LoadingSpinner />;\r\n    if (error) return <div className=\"text-red-500 text-center p-8\">{error}</div>;\r\n\r\n    return (\r\n        <div className=\"container mx-auto p-4\">\r\n            <h1 className=\"text-2xl font-bold mb-4 text-center\">Edit Quiz</h1>\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-semibold mb-2\">Quiz Details</h2>\r\n                    <QuizForm onSubmit={handleUpdateQuiz} initialData={quiz} isEditing={true} />\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"text-xl font-semibold mb-2\">Questions</h2>\r\n                    <QuestionManager quiz={quiz} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditQuizPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}